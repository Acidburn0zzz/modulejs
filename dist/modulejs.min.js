/* modulejs 1.6.0 - http://larsjung.de/modulejs/ */
!function(n){this.modulejs=n()}(function(){"use strict";function n(n){return function(r){return l.toString.call(r)==="[object "+n+"]"}}function r(n){return n===new Object(n)}function t(n,r){return l.hasOwnProperty.call(n,r)}function e(n,r,e){if(p&&n.forEach===p)n.forEach(r,e);else if(n.length===Number(n.length))for(var i=0,u=n.length;u>i;i+=1)r.call(e,n[i],i,n);else for(var o in n)t(n,o)&&r.call(e,n[o],o,n)}function i(n,r){for(var t=0,e=n.length;e>t;t+=1)if(n[t]===r)return!0;return!1}function u(n){var r={},i=[];return e(n,function(n){t(r,n)||(i.push(n),r[n]=1)}),i}function o(n,r){if(n)throw new Error("[modulejs] "+r)}function c(n,r,f){if(o(!h(n),"id must be string: "+n),!r&&t(g,n))return g[n];var s=b[n];o(!s,"id not defined: "+n),f=(f||[]).slice(0),f.push(n);var a=[];if(e(s.deps,function(n){o(i(f,n),"circular dependencies: "+n+" in "+f),r?(a=a.concat(c(n,r,f)),a.push(n)):a.push(c(n,r,f))}),r)return u(a);var d=s.fn.apply(void 0,a);return g[n]=d,d}function f(n,t,e){void 0===e&&(e=t,t=[]),o(!h(n),"id must be string: "+n),o(b[n],"id already defined: "+n),o(!y(t),"deps must be array: "+n),o(!r(e)&&!v(e),"def must be object or function: "+n),b[n]={id:n,deps:t,fn:v(e)?e:function(){return e}}}function s(n){return c(n)}function a(){var n={};return e(b,function(r,e){n[e]={deps:r.deps.slice(0),reqs:c(e,!0),init:t(g,e)}}),e(b,function(r,t){var u=[];e(b,function(r,e){i(n[e].reqs,t)&&u.push(e)}),n[t].reqd=u}),n}function d(n){var r="\n";return e(a(),function(t,e){var i=n?t.reqd:t.reqs;r+=(t.init?"* ":"  ")+e+" -> [ "+i.join(", ")+" ]\n"}),r}var l=Object.prototype,p=Array.prototype.forEach,h=n("String"),v=n("Function"),y=Array.isArray||n("Array"),b={},g={};return{define:f,require:s,state:a,log:d,_private:{isString:h,isFunction:v,isArray:y,isObject:r,has:t,each:e,contains:i,uniq:u,err:o,definitions:b,instances:g,resolve:c}}});