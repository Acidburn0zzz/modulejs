/* modulejs 1.8.0 - http://larsjung.de/modulejs/ */
!function(n,r){"use strict";"object"==typeof exports?module.exports=r():n.modulejs=r()}(this,function(){"use strict";function n(n){return function(r){return s.toString.call(r)==="[object "+n+"]"}}function r(n,r){return void 0!==n&&null!==n&&s.hasOwnProperty.call(n,r)}function t(n,t){if(n&&n.length)for(var e=0,i=n.length;i>e;e+=1)t(n[e],e,n);else for(var u in n)r(n,u)&&t(n[u],u,n)}function e(n,r){if(n&&n.length)for(var t=0,e=n.length;e>t;t+=1)if(n[t]===r)return!0;return!1}function i(n){var r=[];return t(n,function(n){e(r,n)||r.push(n)}),r}function u(n,r){if(!n)throw new Error("[modulejs] "+r)}function o(){function n(o,s,c,f){if(u(a(o),"id must be string: "+o),f=f||h,!s&&r(f,o))return f[o];var d=v[o];u(d,"id not defined: "+o),c=(c||[]).slice(),c.push(o);var l=[];if(t(d.deps,function(r){u(!e(c,r),"circular dependencies: "+r+" in "+c),s?(l=l.concat(n(r,s,c)),l.push(r)):l.push(n(r,s,c,f))}),s)return i(l);var p=d.fn.apply(void 0,l);return f[o]=p,p}function s(n,t,e){arguments.length<3&&(e=t,t=[]),u(a(n),"id must be string: "+n),u(!r(v,n),"id already defined: "+n),u(c(t),"deps must be array: "+n),v[n]={id:n,deps:t,fn:f(e)?e:function(){return e}}}function d(r,t){return n(r,!1,[],t)}function l(){var i={};return t(v,function(t,e){i[e]={deps:t.deps.slice(0),reqs:n(e,!0),init:r(h,e)}}),t(v,function(n,r){var u=[];t(v,function(n,t){e(i[t].reqs,r)&&u.push(t)}),i[r].reqd=u}),i}function p(n){var r="\n";return t(l(),function(t,e){var i=n?t.reqd:t.reqs;r+=(t.init?"* ":"  ")+e+" -> [ "+i.join(", ")+" ]\n"}),r}var v={},h={};return{create:o,define:s,log:p,require:d,state:l,_private:{assert:u,contains:e,definitions:v,each:t,has:r,instances:h,isArray:c,isFunction:f,isString:a,resolve:n,uniq:i}}}var s=Object.prototype,c=n("Array"),f=n("Function"),a=n("String");return o()});