/* modulejs 1.6.0 - http://larsjung.de/modulejs/ */
!function(n,r){"use strict";n.modulejs=r()}(this,function(){"use strict";function n(n){return function(r){return s.toString.call(r)==="[object "+n+"]"}}function r(n){return n===new Object(n)}function t(n,r){return s.hasOwnProperty.call(n,r)}function e(n,r,e){if(f&&n.forEach===f)n.forEach(r,e);else if(n.length===Number(n.length))for(var i=0,u=n.length;u>i;i+=1)r.call(e,n[i],i,n);else for(var o in n)t(n,o)&&r.call(e,n[o],o,n)}function i(n,r){for(var t=0,e=n.length;e>t;t+=1)if(n[t]===r)return!0;return!1}function u(n){var r={},i=[];return e(n,function(n){t(r,n)||(i.push(n),r[n]=1)}),i}function o(n,r){if(!n)throw new Error("[modulejs] "+r)}function c(){function n(r,c,s){if(o(a(r),"id must be string: "+r),!c&&t(y,r))return y[r];var f=v[r];o(f,"id not defined: "+r),s=(s||[]).slice(),s.push(r);var d=[];if(e(f.deps,function(r){o(!i(s,r),"circular dependencies: "+r+" in "+s),c?(d=d.concat(n(r,c,s)),d.push(r)):d.push(n(r,c,s))}),c)return u(d);var l=f.fn.apply(void 0,d);return y[r]=l,l}function s(n,t,e){void 0===e&&(e=t,t=[]),o(a(n),"id must be string: "+n),o(!v[n],"id already defined: "+n),o(l(t),"deps must be array: "+n),o(r(e)||d(e),"def must be object or function: "+n),v[n]={id:n,deps:t,fn:d(e)?e:function(){return e}}}function f(r){return n(r)}function p(){var r={};return e(v,function(e,i){r[i]={deps:e.deps.slice(0),reqs:n(i,!0),init:t(y,i)}}),e(v,function(n,t){var u=[];e(v,function(n,e){i(r[e].reqs,t)&&u.push(e)}),r[t].reqd=u}),r}function h(n){var r="\n";return e(p(),function(t,e){var i=n?t.reqd:t.reqs;r+=(t.init?"* ":"  ")+e+" -> [ "+i.join(", ")+" ]\n"}),r}var v={},y={};return{define:s,require:f,state:p,log:h,create:c,_private:{isString:a,isFunction:d,isArray:l,isObject:r,has:t,each:e,contains:i,uniq:u,assert:o,definitions:v,instances:y,resolve:n}}}var s=Object.prototype,f=Array.prototype.forEach,a=n("String"),d=n("Function"),l=Array.isArray||n("Array");return c()});