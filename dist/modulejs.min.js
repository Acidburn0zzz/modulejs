/* modulejs 1.8.0 - http://larsjung.de/modulejs/ */
!function(n,r){"use strict";"object"==typeof exports?module.exports=r():n.modulejs=r()}(this,function(){"use strict";function n(n){return function(r){return f.toString.call(r)==="[object "+n+"]"}}function r(n){return n!==s&&null!==n}function t(n,t){return r(n)&&f.hasOwnProperty.call(n,t)}function e(n,e,i){if(r(n)&&l(e))if(r(n.length))for(var u=0,o=n.length;o>u;u+=1)e.call(i,n[u],u,n);else for(var c in n)t(n,c)&&e.call(i,n[c],c,n)}function i(n,t){if(r(n)&&r(n.length))for(var e=0,i=n.length;i>e;e+=1)if(n[e]===t)return!0;return!1}function u(n){var r={},i=[];return e(n,function(n){t(r,n)||(i.push(n),r[n]=1)}),i}function o(n,r){if(!n)throw new Error("[modulejs] "+r)}function c(){function n(r,c,f,a){if(o(p(r),"id must be string: "+r),a=a||b,!c&&t(a,r))return a[r];var l=g[r];o(l,"id not defined: "+r),f=(f||[]).slice(),f.push(r);var d=[];if(e(l.deps,function(r){o(!i(f,r),"circular dependencies: "+r+" in "+f),c?(d=d.concat(n(r,c,f)),d.push(r)):d.push(n(r,c,f,a))}),c)return u(d);var h=l.fn.apply(s,d);return a[r]=h,h}function r(n,r,e){arguments.length<3&&(e=r,r=[]),o(p(n),"id must be string: "+n),o(!t(g,n),"id already defined: "+n),o(a(r),"deps must be array: "+n),g[n]={id:n,deps:r,fn:l(e)?e:function(){return e}}}function f(r,t){return n(r,!1,[],t)}function h(){var r={};return e(g,function(e,i){r[i]={deps:e.deps.slice(0),reqs:n(i,!0),init:t(b,i)}}),e(g,function(n,t){var u=[];e(g,function(n,e){i(r[e].reqs,t)&&u.push(e)}),r[t].reqd=u}),r}function v(n){var r="\n";return e(h(),function(t,e){var i=n?t.reqd:t.reqs;r+=(t.init?"* ":"  ")+e+" -> [ "+i.join(", ")+" ]\n"}),r}var g={},b={};return{create:c,define:r,log:v,require:f,state:h,_private:{assert:o,contains:i,definitions:g,each:e,has:t,instances:b,isArray:a,isFunction:l,isObject:d,isString:p,resolve:n,uniq:u}}}var s,f=Object.prototype,a=n("Array"),l=n("Function"),d=n("Object"),p=n("String");return c()});