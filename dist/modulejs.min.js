/* modulejs 1.8.0 - http://larsjung.de/modulejs/ */
!function(n,t){"use strict";"object"==typeof exports?module.exports=t():n.modulejs=t()}(this,function(){"use strict";function n(n){return function(t){return a.toString.call(t)==="[object "+n+"]"}}function t(n){return n!==s&&null!==n}function r(n,r){return t(n)&&a.hasOwnProperty.call(n,r)}function e(n,r,e){t(n)&&l(r)&&(t(n.length)?f.forEach.call(n,r,e):Object.keys(n).forEach(function(t){r.call(e,n[t],t,n)}))}function i(n,r){return t(n)&&f.indexOf.call(n,r)>=0}function u(n){var t={},i=[];return e(n,function(n){r(t,n)||(i.push(n),t[n]=1)}),i}function c(n,t){if(!n)throw new Error("[modulejs] "+t)}function o(){function n(t,o,a,f){if(c(h(t),"id must be string: "+t),f=f||b,!o&&r(f,t))return f[t];var d=y[t];c(d,"id not defined: "+t),a=(a||[]).slice(),a.push(t);var l=[];if(e(d.deps,function(t){c(!i(a,t),"circular dependencies: "+t+" in "+a),o?(l=l.concat(n(t,o,a)),l.push(t)):l.push(n(t,o,a,f))}),o)return u(l);var p=d.fn.apply(s,l);return f[t]=p,p}function t(n,t,e){arguments.length<3&&(e=t,t=[]),c(h(n),"id must be string: "+n),c(!r(y,n),"id already defined: "+n),c(d(t),"deps must be array: "+n),y[n]={id:n,deps:t,fn:l(e)?e:function(){return e}}}function a(t,r){return n(t,!1,[],r)}function f(){var t={};return e(y,function(e,i){t[i]={deps:e.deps.slice(0),reqs:n(i,!0),init:r(b,i)}}),e(y,function(n,r){var u=[];e(y,function(n,e){i(t[e].reqs,r)&&u.push(e)}),t[r].reqd=u}),t}function v(n){var t="\n";return e(f(),function(r,e){var i=n?r.reqd:r.reqs;t+=(r.init?"* ":"  ")+e+" -> [ "+i.join(", ")+" ]\n"}),t}var y={},b={};return{create:o,define:t,log:v,require:a,state:f,_private:{assert:c,contains:i,definitions:y,each:e,has:r,instances:b,isArray:d,isFunction:l,isObject:p,isString:h,resolve:n,uniq:u}}}var s,a=Object.prototype,f=Array.prototype,d=n("Array"),l=n("Function"),p=n("Object"),h=n("String");return o()});