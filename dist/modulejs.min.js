/* modulejs 1.8.0 - http://larsjung.de/modulejs/ */
!function(n,r){"use strict";"object"==typeof exports?module.exports=r():n.modulejs=r()}(this,function(){"use strict";function n(n){return function(r){return c.toString.call(r)==="[object "+n+"]"}}function r(n){return void 0!==n&&null!==n}function t(n,t){return r(n)&&c.hasOwnProperty.call(n,t)}function e(n,e){if(r(n)&&a(e))if(r(n.length))for(var i=0,u=n.length;u>i;i+=1)e(n[i],i,n);else for(var o in n)t(n,o)&&e(n[o],o,n)}function i(n,r){if(n&&n.length)for(var t=0,e=n.length;e>t;t+=1)if(n[t]===r)return!0;return!1}function u(n){var r=[];return e(n,function(n){i(r,n)||r.push(n)}),r}function o(n,r){if(!n)throw new Error("[modulejs] "+r)}function s(){function n(r,s,c,f){if(o(l(r),"id must be string: "+r),f=f||g,!s&&t(f,r))return f[r];var a=h[r];o(a,"id not defined: "+r),c=(c||[]).slice(),c.push(r);var d=[];if(e(a.deps,function(r){o(!i(c,r),"circular dependencies: "+r+" in "+c),s?(d=d.concat(n(r,s,c)),d.push(r)):d.push(n(r,s,c,f))}),s)return u(d);var p=a.fn.apply(void 0,d);return f[r]=p,p}function r(n,r,e){arguments.length<3&&(e=r,r=[]),o(l(n),"id must be string: "+n),o(!t(h,n),"id already defined: "+n),o(f(r),"deps must be array: "+n),h[n]={id:n,deps:r,fn:a(e)?e:function(){return e}}}function c(r,t){return n(r,!1,[],t)}function p(){var r={};return e(h,function(e,i){r[i]={deps:e.deps.slice(0),reqs:n(i,!0),init:t(g,i)}}),e(h,function(n,t){var u=[];e(h,function(n,e){i(r[e].reqs,t)&&u.push(e)}),r[t].reqd=u}),r}function v(n){var r="\n";return e(p(),function(t,e){var i=n?t.reqd:t.reqs;r+=(t.init?"* ":"  ")+e+" -> [ "+i.join(", ")+" ]\n"}),r}var h={},g={};return{create:s,define:r,log:v,require:c,state:p,_private:{assert:o,contains:i,definitions:h,each:e,has:t,instances:g,isArray:f,isFunction:a,isObject:d,isString:l,resolve:n,uniq:u}}}var c=Object.prototype,f=n("Array"),a=n("Function"),d=n("Object"),l=n("String");return s()});