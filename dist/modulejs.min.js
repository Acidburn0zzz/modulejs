/* modulejs 1.5.1 - http://larsjung.de/modulejs/ */
!function(n){this.modulejs=n()}(function(){"use strict";function n(n){return function(r){return l.toString.call(r)==="[object "+n+"]"}}function r(n){return n===new Object(n)}function e(n,r){return l.hasOwnProperty.call(n,r)}function t(n,r,t){if(p&&n.forEach===p)n.forEach(r,t);else if(n.length===Number(n.length))for(var i=0,o=n.length;o>i;i+=1)r.call(t,n[i],i,n);else for(var u in n)e(n,u)&&r.call(t,n[u],u,n)}function i(n,r){for(var e=0,t=n.length;t>e;e+=1)if(n[e]===r)return!0;return!1}function o(n){var r={},i=[];return t(n,function(n){e(r,n)||(i.push(n),r[n]=1)}),i}function u(n,r,e){if(n){var t=new Error("[modulejs-"+r+"] "+e);throw t.code=r,t}}function c(n,r,a){if(u(!h(n),31,'id must be a string "'+n+'"'),!r&&e(b,n))return b[n];var f=y[n];u(!f,32,'id not defined "'+n+'"'),a=(a||[]).slice(0),a.push(n);var s=[];if(t(f.deps,function(n){u(i(a,n),33,"circular dependencies: "+a+" & "+n),r?(s=s.concat(c(n,r,a)),s.push(n)):s.push(c(n,r,a))}),r)return o(s);var d=f.fn.apply(void 0,s);return b[n]=d,d}function a(n,e,t){void 0===t&&(t=e,e=[]),u(!h(n),11,'id must be a string "'+n+'"'),u(y[n],12,'id already defined "'+n+'"'),u(!g(e),13,'dependencies for "'+n+'" must be an array "'+e+'"'),u(!r(t)&&!v(t),14,'arg for "'+n+'" must be object or function "'+t+'"'),y[n]={id:n,deps:e,fn:v(t)?t:function(){return t}}}function f(n){return c(n)}function s(){var n={};return t(y,function(r,t){n[t]={deps:r.deps.slice(0),reqs:c(t,!0),init:e(b,t)}}),t(y,function(r,e){var o=[];t(y,function(r,t){i(n[t].reqs,e)&&o.push(t)}),n[e].reqd=o}),n}function d(n){var r="\n";return t(s(),function(e,t){var i=n?e.reqd:e.reqs;r+=(e.init?"* ":"  ")+t+" -> [ "+i.join(", ")+" ]\n"}),r}var l=Object.prototype,p=Array.prototype.forEach,h=n("String"),v=n("Function"),g=Array.isArray||n("Array"),y={},b={};return{define:a,require:f,state:s,log:d,_private:{isString:h,isFunction:v,isArray:g,isObject:r,has:e,each:t,contains:i,uniq:o,err:u,definitions:y,instances:b,resolve:c}}});